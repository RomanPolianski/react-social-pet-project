(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{119:function(e,t,s){},19:function(e,t,s){e.exports={nav:"Nav_nav__1u_gy",item:"Nav_item__1qTDz",active:"Nav_active__2tN0D"}},203:function(e,t,s){},204:function(e,t,s){},23:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__3dbXH",dialog:"Dialogs_dialog__AmiOK",dialogsItems:"Dialogs_dialogsItems__2U9Uj",active:"Dialogs_active__3ein3",messages:"Dialogs_messages__7A92O",message:"Dialogs_message__dz3bd",newdialog:"Dialogs_newdialog__2PeG0",item:"Dialogs_item__3_JVM"}},254:function(e,t,s){"use strict";s.r(t);var a=s(3),n=s(113).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"06662ef7-3184-4288-8ff1-238788932969"}}),i=function(e,t){return n.get("users?page=".concat(e,"&count=").concat(t),{})},r=function(e){return n.get("profile/".concat(e))},c=function(e){return n.get("/profile/status/".concat(e))},o=function(e){return n.put("/profile/status",{status:e})},l=function(e){return n.delete("follow/".concat(e))},u=function(e){return n.post("follow/".concat(e))},d=function(){return n.get("auth/me")},j=function(e){return n.post("auth/login",Object(a.a)({},e))},p=function(){return n.delete("auth/login")},b="SET_USER_DATA",g={id:null,email:null,login:null,isFetching:!0,isAuth:!1},h=function(e,t,s,a,n){return{type:b,data:{id:e,email:t,login:s,isAuth:a,isFetching:n}}},m=function(){return function(e){d().then((function(t){if(0===t.data.resultCode){var s=t.data.data,a=s.id,n=s.email,i=s.login;e(h(a,n,i,!0,!1))}}))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type===b?Object(a.a)(Object(a.a)({},e),t.data):e},O=s(30),v="SEND-MESSAGE",x="ADD-DIALOG",_="UPDATE-DIALOGS",w={dialogs:[{id:"1",name:"Masha",avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/18-F.jpg"},{id:"2",name:"Dasha",avatar:"https://pbs.twimg.com/media/DtAGYO3W0AAr1v1.jpg"},{id:"3",name:"Pasha",avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/15-M.jpg"},{id:"4",name:"Sasha",avatar:"https://ae01.alicdn.com/kf/HTB1CFGDk5AnBKNjSZFvq6yTKXXaM/Langsdom-BX6-Bluetooth.jpg"},{id:"5",name:"Boris",avatar:"https://profile-images.xing.com/images/afeb0407378b4a3c6e78c0a799720ff5-5/torben-schwierzke.1024x1024.jpg"}],messages:[{message:"Hi how are u?"},{message:"Why nobody loves me?"},{message:"where r u? im gettin nervous shit!!"},{message:"i dont care"},{message:"Sounds niceee?"}]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var s={id:"1",name:t.user,avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/15-M.jpg"};return Object(a.a)(Object(a.a)({},e),{},{dialogs:[].concat(Object(O.a)(e.dialogs),[s])});case _:return Object(a.a)(Object(a.a)({},e),{},{newDialogUser:t.newText});case v:return Object(a.a)(Object(a.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(O.a)(e.messages),[{message:t.message}])});default:return e}},S="ADD-POST",N="SET_USERS_PROFILE",y="SET_USER_STATUS",C={posts:[{id:"1",name:"Pasha",avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/15-M.jpg",message:"Im doin' so well i cant lie",likeCount:1,postimg:"https://imgix.bustle.com/2017/5/11/a088adaa-c586-42e2-a717-5b753ed57b7c.jpg"},{id:"2",name:"Sasha",avatar:"https://ae01.alicdn.com/kf/HTB1CFGDk5AnBKNjSZFvq6yTKXXaM/Langsdom-BX6-Bluetooth.jpg",message:"Why nobody loves me?",likeCount:20,postimg:"https://www.banyanmentalhealth.com/wp-content/uploads/2019/08/depression.jpg"},{id:"3",name:"Boris",avatar:"https://profile-images.xing.com/images/afeb0407378b4a3c6e78c0a799720ff5-5/torben-schwierzke.1024x1024.jpg",message:"I dont care im ballin nig!!!",likeCount:212,postimg:"https://i.cbc.ca/1.5645636.1594411598!/fileImage/httpImage/elam-ending-071020.jpg"}],profile:null},k=function(e){return{type:y,status:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var s={id:"4",name:"Boris",avatar:"https://profile-images.xing.com/images/afeb0407378b4a3c6e78c0a799720ff5-5/torben-schwierzke.1024x1024.jpg",message:t.text,likeCount:212,postimg:"https://i.cbc.ca/1.5645636.1594411598!/fileImage/httpImage/elam-ending-071020.jpg"};return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(O.a)(e.posts),[s])});case N:return Object(a.a)(Object(a.a)({},e),{},{profile:t.profile});case y:return Object(a.a)(Object(a.a)({},e),{},{profileStatus:t.status});default:return e}},F={friends:[{name:"Masha",id:"1",avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/18-F.jpg"},{name:"Dasha",id:"2",avatar:"https://pbs.twimg.com/media/DtAGYO3W0AAr1v1.jpg"},{name:"Pasha",id:"3",avatar:"https://www.assyst.de/cms/upload/sub/digitalisierung/15-M.jpg"}]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return e},A="TOGGLE_FOLLOW",M="SET_USERS",E="SET_CURRENT_PAGE",U="SET_TOTAL_USERS_COUNT",T="TOGGLE_IS_FETCHING",L="TOGGLE_IS_FOLLOWING_PROGRESS",G={users:[],totalCount:19,pageSize:10,currentPage:1,isFetching:!0,followingProgress:[]},B=function(e){return{type:A,userId:e}},z=function(e){return{type:T,isFetching:e}},R=function(e,t){return{type:L,isFollowing:e,userId:t}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(a.a)(Object(a.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!e.followed}):e}))});case M:return Object(a.a)(Object(a.a)({},e),{},{users:Object(O.a)(t.users)});case E:return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.currentPage});case U:return Object(a.a)(Object(a.a)({},e),{},{totalCount:t.totalCount.toString().slice(1,3)});case T:return Object(a.a)(Object(a.a)({},e),{},{isFetching:t.isFetching});case L:return Object(a.a)(Object(a.a)({},e),{},{followingProgress:t.isFollowing?[].concat(Object(O.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!=t.userId}))});default:return e}},q=s(115),W=s(257),K=s(10),V=K.createStore,X=K.combineReducers,Z=K.applyMiddleware,Y=V(X({profilePage:I,messagesPage:P,sidebar:D,usersPage:H,auth:f,form:W.a}),Z(q.a));window.store=Y;var J=Y,Q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,258)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),i(e),r(e)}))},$=s(1),ee=s.n($),te=s(56),se=s.n(te),ae=(s(203),s(204),s(11)),ne=s(19),ie=s.n(ne),re=s(0),ce=function(e){return Object(re.jsxs)("nav",{className:ie.a.nav,children:[Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/profile",activeClassName:ie.a.active,children:"Profile"})}),Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/dialogs",activeClassName:ie.a.active,children:"Messages"})}),Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/news",activeClassName:ie.a.active,children:"News"})}),Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/music",activeClassName:ie.a.active,children:"Music"})}),Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/settings",activeClassName:ie.a.active,children:"Settings"})}),Object(re.jsx)("div",{className:ie.a.item,children:Object(re.jsx)(ae.b,{to:"/users",activeClassName:ie.a.active,children:"Find Users"})})]})},oe=s(6),le=s(12),ue=s(13),de=s(15),je=s(14),pe=s(9),be=function(e){return{isAuth:e.auth.isAuth}},ge=function(e){var t=function(t){Object(de.a)(n,t);var s=Object(je.a)(n);function n(){return Object(le.a)(this,n),s.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(re.jsx)(e,Object(a.a)({},this.props)):Object(re.jsx)(oe.a,{to:"/login"})}}]),n}(ee.a.Component);return Object(pe.b)(be)(t)},he=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(le.a)(this,s),t.apply(this,arguments)}return Object(ue.a)(s,[{key:"render",value:function(){return Object(re.jsx)(me,{})}}]),s}(ee.a.Component),me=function(e){return Object(re.jsx)("div",{children:"News"})},fe=ge(he),Oe=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(le.a)(this,s),t.apply(this,arguments)}return Object(ue.a)(s,[{key:"render",value:function(){return Object(re.jsx)(ve,Object(a.a)({},this.props))}}]),s}(ee.a.Component),ve=function(e){return Object(re.jsx)("div",{children:"Music"})},xe=ge(Oe),_e=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(le.a)(this,s),t.apply(this,arguments)}return Object(ue.a)(s,[{key:"render",value:function(){return Object(re.jsx)(we,Object(a.a)({},this.props))}}]),s}(ee.a.Component),we=function(e){return Object(re.jsx)("div",{children:"Settings"})},Pe=ge(_e),Se=s(10),Ne=s(23),ye=s.n(Ne),Ce=function(e){var t="/dialogs/".concat(e.id);return Object(re.jsxs)("div",{className:ye.a.dialog,children:[Object(re.jsx)("div",{className:ye.a.item,children:Object(re.jsx)("img",{src:e.avatar})}),Object(re.jsx)(ae.b,{to:t,children:e.name})]})},ke=function(e){return Object(re.jsx)("div",{className:ye.a.message,children:Object(re.jsx)("div",{className:ye.a.message,children:e.message})})},Ie=s(256),Fe=s(255),De=function(e){if(!e)return"Field is required"},Ae=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},Me=s(120),Ee=s(79),Ue=s.n(Ee),Te=["input","meta"],Le=function(e){var t=e.input,s=e.meta,n=Object(Me.a)(e,Te),i=s.touched&&s.error;return Object(re.jsxs)("div",{className:Ue.a.formControl+" "+(i?Ue.a.error:""),children:[Object(re.jsx)("input",Object(a.a)(Object(a.a)({},n),t)),i&&Object(re.jsx)("span",{children:s.error})]})},Ge=Ae(20),Be=Object(Fe.a)({form:"newDialog"})((function(e){return Object(re.jsx)("div",{className:ye.a.newdialog,children:Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)(Ie.a,{type:"text",component:Le,name:"newDialog",validate:[De,Ge]}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Search"})})]})})})),ze=Object(Fe.a)({form:"newMessage"})((function(e){return Object(re.jsx)("div",{className:ye.a.newMessage,children:Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)(Ie.a,{type:"text",name:"newDialog",component:Le,validate:[De,Ge]}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Send"})})]})})})),Re=function(e){var t=e.dialogElements.map((function(e){return Object(re.jsx)(Ce,{name:e.name,id:e.id,avatar:e.avatar})})),s=e.messageElements.map((function(e){return Object(re.jsx)(ke,{message:e.message})}));return Object(re.jsxs)("div",{className:ye.a.dialogs,children:[Object(re.jsx)(Be,{onSubmit:function(t){e.addDialog(t.newDialog)}}),Object(re.jsx)("div",{className:ye.a.dialogsItems,children:t}),Object(re.jsx)("div",{className:ye.a.messages,children:s}),Object(re.jsx)(ze,{onSubmit:function(t){e.sendMessage(t.newDialog)}})]})},He=Object(Se.compose)(Object(pe.b)((function(e){return{dialogElements:e.messagesPage.dialogs,messageElements:e.messagesPage.messages,valueSearch:e.messagesPage.newDialogUser,valueMessage:e.messagesPage.newMessageBody}}),{addDialog:function(e){return{type:x,user:e}},sendMessage:function(e){return{type:v,message:e}}}),ge)(Re),qe=s(82),We=s.n(qe),Ke=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(le.a)(this,s),t.apply(this,arguments)}return Object(ue.a)(s,[{key:"render",value:function(){return Object(re.jsx)(Xe,Object(a.a)({},this.props))}}]),s}(ee.a.Component),Ve=ge(Ke),Xe=function(e){var t="/dialogs/".concat(e.id);return Object(re.jsxs)("div",{className:We.a.dialog,children:[Object(re.jsx)("div",{className:We.a.item,children:Object(re.jsx)("img",{src:e.avatar})}),Object(re.jsx)(ae.b,{to:t,children:e.name})]})},Ze=Ve,Ye=s(83),Je=s.n(Ye),Qe=function(e){var t=e.friends.map((function(e){return Object(re.jsx)(Ze,{name:e.name,id:e.id,avatar:e.avatar})}));return Object(re.jsxs)("div",{className:Je.a.friends,children:[Object(re.jsx)("h3",{children:"Friends"}),Object(re.jsx)("div",{className:Je.a.item,children:t})]})},$e=Object(pe.b)((function(e){return{friends:e.sidebar.friends}}),(function(e){return{}}))(Qe),et=s(33),tt=s.n(et),st=s.p+"static/media/default_user_avatar.0c07a2e4.png",at=s.p+"static/media/preloader.97d1be21.svg",nt=function(e){return Object(re.jsx)("img",{src:at,style:{width:50,height:50}})},it=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),s=[],a=1;a<=t;a++)s.push(a);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{children:e.isFetching?Object(re.jsx)(nt,{}):null}),Object(re.jsx)("div",{children:s.map((function(t){return Object(re.jsx)("span",{className:e.currentPage===t&&tt.a.selectedPage,onClick:function(s){e.setCurrentPage(t),e.onPageChanged(t)},children:"".concat(t," ")})}))}),e.users.map((function(t){return Object(re.jsxs)("div",{className:tt.a.wrapper,children:[Object(re.jsxs)("div",{className:tt.a.leftSide,children:[Object(re.jsx)("div",{className:tt.a.avatar,children:Object(re.jsx)(ae.b,{to:"/profile/".concat(t.id),children:Object(re.jsx)("img",{src:null!=t.photos.small?t.photos.small:st})})}),Object(re.jsx)("div",{children:t.followed?Object(re.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){return e.unfollow(t.id)},children:"Unfollow"}):Object(re.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){return e.follow(t.id)},children:"Follow"})})]}),Object(re.jsxs)("div",{className:tt.a.rightSide,children:[Object(re.jsx)("div",{children:Object(re.jsx)("span",{className:tt.a.name,children:t.name})}),Object(re.jsx)("div",{children:t.status})]})]},t.id)}))]})},rt=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){var e;Object(le.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).onPageChanged=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e}return Object(ue.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(re.jsx)(it,{users:this.props.users,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalCount:this.props.totalCount,toggleFollow:this.props.toggleFollow,onPageChanged:this.onPageChanged,isFetching:this.props.isFetching,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followingProgress:this.props.followingProgress,follow:this.props.follow,unfollow:this.props.unfollow,setCurrentPage:this.props.setCurrentPage})}}]),s}(ee.a.Component),ct=Object(Se.compose)(Object(pe.b)((function(e){return{users:e.usersPage.users,totalCount:e.usersPage.totalCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingProgress:e.usersPage.followingProgress}}),{toggleFollow:B,setCurrentPage:function(e){return{type:E,currentPage:e}},toggleIsFollowingProgress:R,getUsers:function(e,t){return function(s){s(z(!0)),i(e,t).then((function(e){var t,a;s((t=e.data.items,{type:M,users:t})),s((a=e.data.totalCount,{type:U,totalCount:a})),s(z(!1))}))}},follow:function(e){return function(t){t(R(!0,e)),u(e).then((function(s){0==s.data.resultCode&&t(B(e)),t(R(!1,e))}))}},unfollow:function(e){return function(t){t(R(!0,e)),l(e).then((function(s){0==s.data.resultCode&&t(B(e)),t(R(!1,e))}))}}}),ge)(rt),ot=s(119),lt=s.n(ot),ut=s(34),dt=s.n(ut),jt=s.p+"static/media/bg1.9fb8a056.jpg",pt=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){var e;Object(le.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,status:e.props.profileStatus},e.activateEditMode=function(){e.props.authId==e.props.profile.userId?e.setState({editMode:!0}):alert("U r not allowed to edit")},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateProfileStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(ue.a)(s,[{key:"render",value:function(){return Object(re.jsx)(re.Fragment,{children:this.state.editMode?Object(re.jsx)("div",{children:Object(re.jsx)("input",{onChange:this.onStatusChange,onDoubleClick:this.deactivateEditMode,autoFocus:!0,value:this.state.status})}):Object(re.jsx)("div",{children:Object(re.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.profileStatus?this.props.profileStatus:"No status"})})})}}]),s}(ee.a.Component),bt=pt,gt=function(e){return e.profile?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:dt.a.background,children:Object(re.jsx)("img",{src:jt,alt:"backgroud"})}),Object(re.jsxs)("div",{className:dt.a.wrapper,children:[Object(re.jsx)("div",{className:dt.a.name_pic,children:Object(re.jsx)("div",{className:dt.a.avatar,children:Object(re.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:st,alt:"avatar"})})}),Object(re.jsxs)("div",{className:dt.a.bio,children:[Object(re.jsx)("div",{className:dt.a.userName,children:Object(re.jsx)("h2",{children:e.profile.fullName})}),Object(re.jsx)("div",{children:Object(re.jsx)("div",{children:Object(re.jsx)(bt,{profile:e.profile,profileStatus:e.profileStatus,authId:e.authId,updateProfileStatus:e.updateProfileStatus})})})]})]})]}):Object(re.jsx)(nt,{})},ht=s(35),mt=s.n(ht),ft=function(e){var t,s=Object(re.jsx)("img",{src:"https://s.pngkit.com/png/small/11-114367_facebook-like-icon-like-facebook.png"});return t="1"==e.likeCount?"Like":"Likes",Object(re.jsxs)("div",{className:mt.a.item,children:[Object(re.jsx)("img",{src:e.avatar,className:mt.a.avatar}),Object(re.jsxs)("span",{children:[Object(re.jsx)("span",{className:mt.a.name,children:e.name}),": ",e.message]}),Object(re.jsx)("div",{className:mt.a.postimg,children:Object(re.jsx)("img",{src:e.postimg})}),Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{className:mt.a.like_img,children:s}),Object(re.jsxs)("span",{className:mt.a.like,children:[e.likeCount," ",t]})]})]})},Ot=s(59),vt=s.n(Ot),xt=Ae(20),_t=Object(Fe.a)({form:"myPost"})((function(e){return Object(re.jsx)("form",{onSubmit:e.handleSubmit,children:Object(re.jsxs)("div",{className:vt.a.myPosts,children:[Object(re.jsx)(Ie.a,{type:"text",component:Le,name:"post",validate:[De,xt]}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Add post"})})]})})})),wt=function(e){var t=e.posts.map((function(e){return Object(re.jsx)(ft,{name:e.name,avatar:e.avatar,message:e.message,likeCount:e.likeCount,postimg:e.postimg})}));return Object(re.jsxs)("div",{children:[Object(re.jsx)("h3",{children:"My posts"}),Object(re.jsx)(_t,{onSubmit:function(t){e.addPostActionCreator(t.post)},props:e}),Object(re.jsx)("div",{children:Object(re.jsx)("h4",{children:"New Posts"})}),Object(re.jsx)("div",{className:vt.a.posts,children:Object(re.jsx)("div",{className:vt.a.item,children:t})})]})},Pt=Object(pe.b)((function(e){return{posts:e.profilePage.posts,value:e.profilePage.newPostText}}),{addPostActionCreator:function(e){return{type:S,text:e}}})(wt),St=function(e){return Object(re.jsxs)("div",{className:lt.a.content,children:[Object(re.jsx)(gt,{profile:e.profile,profileStatus:e.profileStatus,authId:e.authId,updateProfileStatus:e.updateProfileStatus}),e.isOwnProfile?Object(re.jsx)(Pt,{store:e.store}):null]})},Nt=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){var e;Object(le.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isOwnProfile:!0},e.setToOtherProfile=function(){e.setState({isOwnProfile:!1})},e}return Object(ue.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e?(e=this.props.match.params.userId,this.setToOtherProfile()):e=this.props.authId,this.props.getUser(e),this.props.getProfileStatus(e)}},{key:"render",value:function(){return Object(re.jsx)(St,Object(a.a)(Object(a.a)({},this.props),{},{userId:this.userId,isOwnProfile:this.state.isOwnProfile,profile:this.props.profile,profileStatus:this.props.profileStatus,authId:this.props.authId,updateProfileStatus:this.props.updateProfileStatus}))}}]),s}(ee.a.Component),yt=Object(Se.compose)(Object(pe.b)((function(e){return{profile:e.profilePage.profile,profileStatus:e.profilePage.profileStatus,authId:e.auth.id}}),{getUser:function(e){return function(t){r(e).then((function(e){var s;t((s=e.data,{type:N,profile:s}))}))}},getProfileStatus:function(e){return function(t){c(e).then((function(e){t(k(e.data))}))}},updateProfileStatus:function(e){return function(t){o(e).then((function(s){0===s.data.resultCode&&t(k(e))}))}}}),oe.f,ge)(Nt),Ct=s(60),kt=s.n(Ct),It=s.p+"static/media/logo.b47aad27.png",Ft=function(e){return Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)("header",{className:kt.a.header,children:[Object(re.jsx)("img",{src:It,alt:"logo"}),Object(re.jsxs)("div",{className:kt.a.loginBlock,children:[Object(re.jsx)("div",{className:kt.a.userName,children:e.userAuth.isAuth?e.userAuth.login:Object(re.jsx)(ae.b,{to:"/login",children:"Login"})}),Object(re.jsx)("div",{children:e.userAuth.isAuth?Object(re.jsx)("button",{onClick:function(){if(e.logOutUser(),e.isAuth)return Object(re.jsx)(oe.a,{to:"/profile"})},children:"LogOut"}):null})]})]})})},Dt=function(e){Object(de.a)(s,e);var t=Object(je.a)(s);function s(){return Object(le.a)(this,s),t.apply(this,arguments)}return Object(ue.a)(s,[{key:"componentDidMount",value:function(){this.props.getAuthData()}},{key:"render",value:function(){return Object(re.jsx)(Ft,Object(a.a)(Object(a.a)({},this.props),{},{logOutUser:this.props.logOutUser}))}}]),s}(ee.a.Component),At=Object(pe.b)((function(e){return{userAuth:e.auth}}),{getAuthData:m,logOutUser:function(){return function(e){p().then((function(t){0===t.data.resultCode&&e(h(null,null,null,!1,!0))}))}}})(Dt),Mt=s(45),Et=s.n(Mt),Ut=Object(Fe.a)({form:"login"})((function(e){return Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{className:Et.a.field,children:Object(re.jsx)(Ie.a,{placeholder:"Login",name:"email",component:"input"})}),Object(re.jsx)("div",{className:Et.a.field,children:Object(re.jsx)(Ie.a,{placeholder:"Password",name:"password",component:"input",type:"password"})}),Object(re.jsxs)("div",{className:Et.a.field,children:["Remember me",Object(re.jsx)(Ie.a,{type:"checkbox",name:"rememberMe",component:"input"})]}),Object(re.jsx)("div",{className:Et.a.field,children:Object(re.jsx)("button",{children:"Login"})})]})})})),Tt=Object(pe.b)((function(e){return{}}),{sendLoginData:function(e){return function(t){j(e).then((function(e){0===e.data.resultCode&&t(m())}))}}})((function(e){return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("h1",{children:"Login"}),Object(re.jsx)(Ut,{onSubmit:function(t){console.log(t),e.sendLoginData(t)}}),Object(re.jsxs)("p",{children:["Use to demo ",Object(re.jsx)("b",{children:"login:"})," free@samuraijs.com ",Object(re.jsx)("b",{children:"password:"})," free"]})]})})),Lt=function(e){return Object(re.jsxs)("div",{className:"app-wrapper",children:[Object(re.jsx)(At,{}),Object(re.jsx)(ce,{}),Object(re.jsx)($e,{}),Object(re.jsxs)("div",{className:"app-wrapper-content",children:[Object(re.jsx)(oe.b,{path:"/profile/:userId?",children:Object(re.jsx)(yt,{})}),Object(re.jsx)(oe.b,{path:"/dialogs",children:Object(re.jsx)(He,{})}),Object(re.jsx)(oe.b,{path:"/news",component:fe}),Object(re.jsx)(oe.b,{path:"/music",children:Object(re.jsx)(xe,{})}),Object(re.jsx)(oe.b,{path:"/settings",component:Pe}),Object(re.jsx)(oe.b,{path:"/users",children:Object(re.jsx)(ct,{})}),Object(re.jsx)(oe.b,{path:"/login",children:Object(re.jsx)(Tt,{})})]})]})};se.a.render(Object(re.jsx)(ee.a.StrictMode,{children:Object(re.jsx)(ae.a,{basename:"/react-social-pet-project",children:Object(re.jsx)(pe.a,{store:J,children:Object(re.jsx)(Lt,{})})})}),document.getElementById("root")),Q()},33:function(e,t,s){e.exports={avatar:"Users_avatar__2alTB",wrapper:"Users_wrapper__3nAIN",leftSide:"Users_leftSide__2e5-i",rightSide:"Users_rightSide__2mdqx",name:"Users_name__v__gU",selectedPage:"Users_selectedPage__pvVFZ"}},34:function(e,t,s){e.exports={wrapper:"ProfileInfo_wrapper__2-V3U",name_pic:"ProfileInfo_name_pic__1IMPc",bio:"ProfileInfo_bio__DHNAV",userName:"ProfileInfo_userName__1KWH-",value:"ProfileInfo_value__W4_EE",background:"ProfileInfo_background__3wE-O",avatar:"ProfileInfo_avatar__3pGq4",property:"ProfileInfo_property__2iNpZ"}},35:function(e,t,s){e.exports={item:"Post_item__1Vqsh",avatar:"Post_avatar__2F1yu",like_img:"Post_like_img__19pzP",postimg:"Post_postimg__CFp0e",name:"Post_name__3GlRG",like:"Post_like__HTPoV"}},45:function(e,t,s){e.exports={field:"Login_field__1M5H-"}},59:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2nTi-"}},60:function(e,t,s){e.exports={header:"Header_header__3ZGaq",loginBlock:"Header_loginBlock__3NbYu",userName:"Header_userName__1vaFB"}},79:function(e,t,s){e.exports={formControl:"FormsControl_formControl__1IGuw",error:"FormsControl_error__34FV_"}},82:function(e,t,s){},83:function(e,t,s){e.exports={friends:"Sidebar_friends__2mbUu",item:"Sidebar_item__1fzDi"}}},[[254,1,2]]]);
//# sourceMappingURL=main.729fcf72.chunk.js.map